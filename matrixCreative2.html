<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja" dir="ltr" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
    <title>Date Time</title>
</head>

<body>
    <!-- Slideshow container -->
    <p>matrixCreate</p>
   
    <script type="text/javascript" ">
   
      const dataCampaigns = [
      {
        id: "60e57589-65e2-40a3-9168-92e477fdd85e",
        name: "Christmas Jersey Connecticut",
        channel: {
          id: "380e5d60-bafa-4c7b-b8bd-5e20e01bb269",
          name: "Google",
          creativeSetTypes: [],
        }
      },
      {
        id: "3009c9c1-7df1-4a1f-9f8b-75079a4f4c5e",
        name: "New Yearâ€™s Eve Blues bug",
        channel: {
          id: "0d24e41b-d42a-4975-9061-b5f00b41a9f6",
          name: "ironSource",
          creativeSetTypes: [
            {
              id: "cb4aac81-41e3-4a2f-af13-33e69d197751",
              name: "videoAndCarousel",
              creativeConfigurations: []
            },
            {
              id: "65466a53-31b3-411f-9bb4-c0ff7f66c99d",
              name: "videoAndFullScreen",
              creativeConfigurations: [
                {
                  id: "8cfe60ee-eea6-4521-bb05-b89d0ff29b06",
                  file_size: 2000000,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  metadata: {
                    max_ratio: 3840,
                    min_ratio: 1.3333333333333333,
                    max_dimension: 990,
                    min_dimension: 1.3333333333333333,
                  },
                  name: "Image",
                  type: "tabletLandscape",
                },
                {
                  id: "870318ef-a77e-46a8-817c-5c793ce1edd6",
                  file_size: 100000000,
                  file_types: ["video"],
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5
                  },
                  name: "video",
                  type: "video",
                },
                {
                  id: "2b93101f-94ea-4ada-bc7d-9bd351065f4e",
                  file_size: 2000000,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  metadata: {
                    max_ratio: 3840,
                    min_ratio: 0.5625,
                    max_dimension: 1100,
                    min_dimension: 0.5625,
                  },
                  name: "image",
                  type: "phonePortrait",
                },
                {
                  id: "6f70c7da-0d64-4e02-bef3-729808b32ffa",
                  file_size: 2000000,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  metadata: {
                    max_ratio: 3,
                    min_ratio: 1.7777777777777777,
                    max_dimension: 3840,
                    min_dimension: 1.7777777777777777,
                  },
                  name: "image",
                  type: "phoneLandscape",
                },
                {
                  id: "ef2f3583-533f-4500-83dc-87152764aa27",
                  file_size: 2000000,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  metadata: {
                    max_ratio: 3840,
                    min_ratio: 0.75,
                    max_dimension: 320,
                    min_dimension: 0.75,
                  },
                  name: "image",
                  type: "tabletPortrait",
                },
              ]
            },
          ],
        }
      },
      {
        id: "a20c648f-5109-4ed5-9b38-b313bd036112",
        name: "Noel East Michigan",
        channel: {
          id: "0d24e41b-d42a-4975-9061-b5f00b41a9f6",
          name: "ironSource",
          creativeSetTypes: [
            {
              id: "9ae2f36b-2689-4c30-a665-8bf5ba21ce6d",
              name: "Video & Carousel",
              creativeConfigurations: [
                {
                  file_size: 2000,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "43d1ab06-2c12-4831-bf26-a017d1d3aa5f",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "left",
                },
                {
                  file_size: 2,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "50ff5cf8-14bf-45a1-974f-9661eb931ecc",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "middle",
                },
                {
                  file_size: 2,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "c3620d16-e83b-4dde-82d8-c5c948a295b7",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "right",
                },
                {
                  file_size: 100,
                  file_types: ["video"],
                  id: "dfd7330e-0cde-428b-b597-eb7adb2e0bc5",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Video",
                  type: null,
                },
              ],
            },
            {
              id: "79894940-157f-4093-8570-f8f621149b28",
              name: "Video & Full Screen",
              creativeConfigurations: [
                {
                  file_size: 100,
                  file_types: ["video"],
                  id: "cb7253f4-f740-4d05-b46a-afb99a031294",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                  },
                  name: "Video",
                  type: null,
                },
                {
                  file_size: 2,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "6b6d2742-b730-4d63-b450-ac6ac4f0b17e",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "left",
                },
                {
                  file_size: 2,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "24590e97-3e2c-40fc-a892-524b090f06f6",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "middle",
                },
                {
                  file_size: 2,
                  file_types: ["png", "jpg", "jpeg", "gif"],
                  id: "d3c6e9c4-cc4b-4c72-9d52-c8eb6a449bd8",
                  metadata: {
                    max_ratio: 2,
                    min_ratio: 0.5,
                    max_dimension: 3840,
                    min_dimension: 320,
                  },
                  name: "Image",
                  type: "right",
                },
              ],
            },
          
            {
              id: "cb4aac81-41e3-4a2f-af13-33e69d197751",
              name: "videoAndCarousel",
              creativeConfigurations: []
            },
            {
              id: "d8c741a9-3ebc-471f-8d47-3a058e21bb92",
              name: "videoAndInteractiveEndCard",
              creativeConfigurations: []
            }
          ]
        }
      },
    ]

      const dataCreatives = [
        {
          duration: undefined,
          file_size: 2234203,
          file_type: "html",
          id: "1J2ZmKCvKuy1Ut1COcZRElZt77dGaZUIx",
          mimeType: "text/html",
          name: "video-mp4.html",
          nameExtension: "html",
          resolution: {
            height: 1080,
            width: 1920
          },
        },
        {
          duration: undefined,
          file_size: 454484,
          file_type: "png",
          id: "1Nrjhr2E8ETvW0ddLAA04qa3PGohCj98y",
          mimeType: "image/png",
          name: "540x960.png",
          nameExtension: "image",
          resolution: {
            height: 960,
            width: 540
          },
        },
        {
          duration: undefined,
          file_size: 522869,
          file_type: "png",
          id: "1igHdxKYeS2K1eBMGadCMPMPLS3Adb3OY",
          mimeType: "image/png",
          name: "960x540.png",
          resolution: {
            height: 540,
            width: 960
          },
        },
        {
          duration: undefined,
          file_size: 734772,
          file_type: "png",
          id: "18eRJB9PQJPuE8CbxIZtd9_lRu_HCvooc",
          mimeType: "image/png",
          name: "1024x768.png",
          resolution: {
            height: 768,
            width: 1024
          },
        },
        {
          duration: undefined,
          file_size: 680546,
          file_type: "png",
          id: "1H6MJkJHYhgS8HqpklkhkftlCB5XBwXiT",
          mimeType: "image/png",
          nameExtension: "image",
          name: "768x1024.png",
          resolution: {
            height: 1024,
            width: 768
          },
        },
        {
          duration: "28061",
          file_size: 37071319,
          file_type: "video",
          id: "1mtOKpB1SmbVas4UkbA8Oe0mb6mE573kt",
          mimeType: "video/mp4",
          nameExtension: "video",
          name: "video 1",
          resolution: {
            height: 1080,
            width: 1080
          },
        },
        {
          duration: "28061",
          file_size: 37071319,
          file_type: "video",
          id: "1PBRJkHGAlkN5CLJ1Fai267Tb0lGq77sT",
          mimeType: "video/mp4",
          name: "video 2",
          nameExtension: "video",
          resolution: {
            height: 1920,
            width: 1080
          },
        },
        {
          duration: "28061",
          file_size: 37071319,
          file_type: "video",
          id: "1VuLnSBaQQkc6vcVfQ8GKf5ruqlrHEHJC",
          mimeType: "video/mp4",
          nameExtension: "video",
          name: "video 3",
          resolution: {
            height: 1080,
            width: 1920
          },
        },
        {
          duration: undefined,
          file_size: 2234203,
          file_type: "html",
          id: "1J2ZmKCvKuy1Ut1COcZRElZt77dGaZUIx",
          mimeType: "text/html",
          name: "video-mp4.html",
          nameExtension: "html",
          resolution: {
            height: 1080,
            width: 1920
          },
        },
      ]
      const arrayCampaigns = [];
      dataCampaigns.forEach((campaign) => {
        campaign.channel.creativeSetTypes.forEach((creativeSet) => {
          arrayCampaigns.push({
            campaignId: campaign.id,
            creativeSetId: creativeSet.id,
            creativeSets: creativeSet.creativeConfigurations
          });
        });
      });
      const campaignsParsed = arrayCampaigns.filter(campaign => campaign.creativeSets.length !== 0)
      const clonedCampaignsParsed = JSON.parse(JSON.stringify(campaignsParsed))

      const totalCreativeSet = campaignsParsed.reduce((acc, campaign) => {
        return acc + campaign.creativeSets.length
      }, 0)

     
      dataCreatives.forEach((media) => {
        campaignsParsed.forEach((campaign, campaignIndex) => {
          for (const creativeSet of campaign.creativeSets) {
            if (!creativeSet.creative && creativeSet.file_types.includes(media.file_type)) {
              creativeSet.creative = media;
              break;
            }
          }
        });
      });


      console.log('data original: ', {dataCampaigns, dataCreatives })
      console.log('data autofilled: ', {  campaignsParsed })

    </script>
</body>

</html>