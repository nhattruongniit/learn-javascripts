<!-- 
Write a function that, given a string S consisting of N characters, 
returns the alphabetically smallest string that can be obtained by 
removing exactly one letter from S.

Examples:
1. Given S = "acb", by removing one letter, you can obtain "ac", "ab" or "cb". 
Your function should return "ab" (after removing 'c') since it is alphabetically
smaller than "ac" and "bc"

2. Given S = "hot", return "ho", which is alphabetically smaller than 
"ht" and "ot".

3. Given S = "codility", return "cdility"

4. Given S = "aaaa", return "aaa". Any occurrence of 'a' can be removed.
-->

<!DOCTYPE html>
<html>
<head>
    <title>Smallest String</title>
</head>
<body>

    <h1>Smallest String</h1>

    <script type="text/javascript">
      // refactor code
      function solution(S) {
        let min = 0;
        let result = '';

        for(let i = 1; i <S.length + 1; i++) {
          const _str = removeChar(S, i)
          const score = getScore(_str)
          if(min === 0 || score < min) {
            result = _str
            min = score;
          }
        }
        return result
      }

      function removeChar(string, position) {
        const char1 = string.slice(0, position);
        const char2 = string.slice(position + 1);
        return char1 + char2;
      }

      function getScore(string) {
        let score = 0;
        for(let i = 0; i < string.length; i++) {
          const base = (string.length - i) * 1000;
          score += string.charCodeAt(i) * base;
        }
        return score;
      }

      console.log('refactor code:', solution('codility'));

    </script>

</body>
</html>
