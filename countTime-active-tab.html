<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  lang="ja"
  xml:lang="ja"
  dir="ltr"
  xmlns:og="http://ogp.me/ns#"
  xmlns:fb="http://www.facebook.com/2008/fbml"
>
  <head>
    <title>CountTime Active Tab Browser</title>
  </head>

  <body>
    <h2>CountTime Active Tab Browser</h2>
    <div style="margin-top: 20px; text-align: center">
      <h1>0</h1>
    </div>

    <script type="text/javascript">
      let counter = document.querySelector("h1");
      // window.addEventListener("DOMContentLoaded", () => {
      //   startCounter();
      // });
      window.addEventListener("blur", () => {
        stopCounter();
      });
      window.addEventListener("focus", () => {
        startCounter();
      });
      let intervalId;
      let counterValue = 0;
      function startCounter() {
        intervalId = setInterval(() => {
          counterValue++;
          counter.innerText = counterValue;
        }, 1000);
      }
      function stopCounter() {
        clearInterval(intervalId);
      }
    </script>
  </body>
</html>
